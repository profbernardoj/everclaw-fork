["Initialize Node.js project on Home Mini\n- [ ] Create Express server with `/api/keys/request` endpoint\n- [ ] Set up SQLite database with `keys` table\n- [ ] Add basic request logging\n\n### Key Schema\n```sql\nCREATE TABLE keys (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  api_key TEXT UNIQUE NOT NULL,\n  device_fingerprint TEXT NOT NULL,\n  everclaw_version TEXT,\n  created_at DATETIME DEFAULT NOW,\n  expires_at DATETIME NOT NULL,\n  last_renewed_at DATETIME,\n  request_count_today INTEGER DEFAULT 0,\n  request_count_total INTEGER DEFAULT 0,\n  last_request_at DATETIME,\n  is_revoked BOOLEAN DEFAULT FALSE,\n  metadata JSON\n);\n\nCREATE INDEX idx_device_fingerprint ON keys(device_fingerprint);\nCREATE INDEX idx_api_key ON keys(api_key);\n```\n\n---\n\n## Stage 2: Key Generation Logic\n\n**Goal:** Generate unique, secure keys with proper validation.\n\n### Deliverables\n1. Key generation - cryptographically random `evcl_` prefixed keys\n2. Device fingerprint validation - prevent duplicate key farming\n3. Expiration logic - 30-day validity\n\n### Algorithm\n```\n1. Receive request with device_fingerprint\n2. Check if fingerprint already has an active key\n   - If yes and not expired: return existing key\n   - If yes but expired: auto-renew (extend 30 days)\n   - If no: create new key\n3. Generate key: evcl_[32 random chars]\n4. Set expires_at = NOW + 30 days\n5. Return key + metadata\n```\n\n---\n\n## Stage 3: Rate Limiting and Usage Tracking\n\n**Goal:** Enforce 1000 requests/day limit and track usage.\n\n### Deliverables\n1. Daily counter reset - midnight UTC rollover\n2. Usage tracking - increment on each request\n3. Rate limit headers - X-RateLimit-Remaining, X-RateLimit-Reset\n\n---\n\n## Stage 4: EverClaw Integration\n\n**Goal:** EverClaw install script fetches and stores key automatically.\n\n### Deliverables\n1. Key request helper - called during install\n2. Key storage - saved to `~/.openclaw/workspace/skills/everclaw/.api-key`\n3. Startup check - EverClaw validates key on load, auto-renews if expired\n\n---\n\n## Stage 5: Security Hardening\n\n**Goal:** Protect the API from abuse.\n\n### Deliverables\n1. TLS/HTTPS - required for production\n2. Request signing (optional) - verify requests come from EverClaw\n3. IP rate limiting - prevent DDOS\n4. Secret management - store signing keys securely\n\n### Options for public access:\n- Use Tailscale for secure access (already set up!)\n- Add Cloudflare Tunnel for public HTTPS without port forwarding\n- Or use Let's Encrypt with nginx reverse proxy\n\n---\n\n## Stage 6: Monitoring and Operations\n\n**Goal:** Visibility into key usage and health.\n\n### Deliverables\n1. Simple dashboard - key count, active keys, daily usage\n2. Health endpoint - `/health` for uptime monitoring\n3. Log rotation - prevent disk fill-up\n\n---\n\n## Stage 7: Documentation and Rollout\n\n**Goal:** Document the system and deploy.\n\n### Deliverables\n1. API documentation - endpoints, request/response formats\n2. EverClaw README update - explain key system\n3. Runbook - how to revoke keys, check usage, debug issues\n\n---\n\n## Implementation Order\n\n| Stage | Priority | Estimated Time |\n|-------|----------|----------------|\n| 1. API Server Setup | HIGH | 2-3 hours |\n| 2. Key Generation | HIGH | 1-2 hours |\n| 3. Rate Limiting | MEDIUM | 1-2 hours |\n| 4. EverClaw Integration | HIGH | 2-3 hours |\n| 5. Security Hardening | MEDIUM | 2-3 hours |\n| 6. Monitoring | LOW | 1-2 hours |\n| 7. Documentation | LOW | 1 hour |\n\n**Total estimate:** 10-16 hours\n\n---\n\n## Decisions Made\n\n- **Key lifetime:** 30 days, auto-renewable\n- **User identity:** Anonymous (no wallet/email required)\n- **Rate limits:** 1000 requests/day per key\n- **Abuse prevention:** Device fingerprint\n- **Hosting:** Self-hosted on Home Mini\n\n---\n\n## Next Step\n\nStart with **Stage 1: API Server Setup** on Home Mini.\n\n**Questions to confirm before coding:**\n1. What port should the API run on? (default: 3000)\n2. What domain/subdomain for the API? (e.g., `api.everclaw.xyz` or `keys.everclaw.xyz`)\n3. Should I scaffold the project structure now?"]