---
tags: [daily, session-log]
date: 2026-02-22
---

# 2026-02-22 — Memory System Overhaul & EverClaw Release

Saturday night Feb 21 / early morning Feb 22 CST — major infrastructure work.

## Memory System Overhaul

Discovered memory_search was completely broken — zero files indexed, zero embeddings. No embedding provider was configured. OpenClaw auto-detects OpenAI → Google → Voyage keys; since we run Venice + Morpheus, none existed. memory_search silently returned empty results every time.

### Stage 1: Directory Reorganization
- Reorganized 149 memory files into clean directory structure:
  - `daily/` — daily session logs
  - `marketing/` — 58 marketing content files
  - `campaigns/` — 4 campaign files
  - `projects/everclaw/` — EverClaw project docs
  - `projects/smartagent/` — SmartAgent project docs
  - `projects/clawbox/` — ClawBox project docs
  - `reference/` — reference materials
  - `goals/` — goal tracking
  - `insights/` — captured insights
  - `relationships/` — relationship notes

### Stage 2: MEMORY.md Rewrite
- Reduced MEMORY.md from 300-line dump to ~90-line lean index
- Pushed detailed content to separate files:
  - `memory/projects/everclaw/architecture.md`
  - `memory/reference/lessons-learned.md`
  - `memory/reference/model-preferences.md`
  - `memory/reference/language-messaging.md`
  - `memory/reference/security-update-protocol.md`
  - `memory/reference/key-people.md`
  - `memory/projects/smartagent/overview.md`

### Stage 3: Embeddings & Search Configuration
- Enabled local embeddings (embeddinggemma-300m, 328MB GGUF)
- Configured hybrid search (BM25 + vector)
- Enabled session transcript indexing (29 session files)
- Enabled MMR diversity and temporal decay
- Patched `openclaw.json` with memorySearch config
- **Result:** 186 files indexed, 965 chunks, all running locally

### Stage 4: Frontmatter Tagging
- Added YAML frontmatter tags to ~100 memory files
- Covered: daily, marketing, campaigns, goals, projects, reference

## memory-upgrade Skill

Built new skill to help others fix their memory search:

- **Location:** `skills/everclaw/memory-upgrade/`
- **Files:** SKILL.md + 5 scripts
  - `diagnose.sh` — check if memory search is broken
  - `configure.sh` — set up local embeddings
  - `organize.sh` — reorganize memory directory
  - `tag.sh` — add frontmatter tags
  - `verify.sh` — confirm everything works
- **Purpose:** Fixes broken memory search for ALL OpenClaw/EverClaw users who don't have OpenAI/Google/Voyage API keys
- **Testing:** All scripts tested on our system — diagnose.sh correctly reports healthy, verify.sh confirms 968 chunks indexed

## v2026.2.22 Release

- Tagged and pushed to `profbernardoj/everclaw` (main)
- Pushed to all 28 flavor repos (28/28 succeeded)
- PR #12 opened to EverClaw/everclaw org repo — David merged it same night
- PR #11 (Docker) also merged by David

## Context

- Thomas Borrel (BasedAI partner) shared his ChromaDB memory setup — prompted this investigation
- Conclusion: OpenClaw's built-in memory search is sufficient when properly configured, no need for external ChromaDB
- The pitch: "Your agent has amnesia. Fix it in 60 seconds."

---

## Summary

Big night. Found a critical bug (memory search broken), fixed it thoroughly, documented the fix as a reusable skill, and shipped a release. The memory system is now fully functional with local embeddings and hybrid search. 186 files indexed, nearly 1000 chunks searchable. No more amnesia.